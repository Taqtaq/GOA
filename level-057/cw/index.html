<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Navbar JS</title>
</head>
<body>
  <div id="app"></div>

  <script>
    // SVG 
    const svgDown = `<svg width="10" height="6" xmlns="http://www.w3.org/2000/svg"><path stroke="#686868" stroke-width="1.5" fill="none" d="m1 1 4 4 4-4"/></svg>`;
    const svgUp   = `<svg width="10" height="6" xmlns="http://www.w3.org/2000/svg"><path stroke="#686868" stroke-width="1.5" fill="none" d="m1 5 4-4 4 4"/></svg>`;

    const svgCal  = `<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M12.667 8.667h-4v4h4v-4ZM11.334 0v1.333H4.667V0h-2v1.333h-1C.75 1.333 0 2.083 0 3v11.333C0 15.25.75 16 1.667 16h12.667C15.25 16 16 15.25 16 14.333V3c0-.917-.75-1.667-1.666-1.667h-1V0h-2Zm3 14.333H1.667V5.5h12.667v8.833Z" fill="#4BB1DA"/></svg>`;
    const svgRem  = `<svg width="13" height="17" xmlns="http://www.w3.org/2000/svg"><path d="M6.408 13.916c-3.313 0-6-1.343-6-3 0-.612.371-1.18 1-1.654V7.916a5 5 0 0 1 3.041-4.6 2 2 0 0 1 3.507-1.664 2 2 0 0 1 .411 1.664 5.002 5.002 0 0 1 3.041 4.6v1.346c.629.474 1 1.042 1 1.654 0 1.657-2.687 3-6 3Zm0 1c.694 0 1.352-.066 1.984-.16.004.054.016.105.016.16a2 2 0 0 1-4 0c0-.055.012-.106.016-.16.633.094 1.29.16 1.984.16Z" fill="#EDD556"/></svg>`;
    const svgPlan = `<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0Zm0 2.133a5.867 5.867 0 1 0 0 11.734A5.867 5.867 0 0 0 8 2.133ZM8 3.2a4.8 4.8 0 1 1 0 9.6 4.8 4.8 0 0 1 0-9.6Zm-.533 2.667a.533.533 0 0 0-.534.533v2.133c0 .295.24.534.534.534h3.2a.533.533 0 0 0 0-1.067H8V6.4a.533.533 0 0 0-.533-.533Z" fill="#8E4CB6"/></svg>`;
    const svgTodo = `<svg width="14" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M14 3v12a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h1V1a1 1 0 1 1 2 0v1h2V1a1 1 0 1 1 2 0v1h2V1a1 1 0 0 1 2 0v1h1a1 1 0 0 1 1 1Zm-2 3H2v1h10V6Zm0 3H2v1h10V9Zm0 3H2v1h10v-1Z" fill="#726CEE"/></svg>`;

    // helpers 
    const $ = (tag) => document.createElement(tag);
    const style = (el, obj) => Object.assign(el.style, obj);

    const app = document.getElementById("app");

    // NAV
    const nav = $("nav");
    style(nav, {
      display: "flex",
      justifyContent: "space-between",
      alignItems: "center",
      padding: "18px 24px",
      fontFamily: "Arial, sans-serif"
    });

    const left = $("div");
    style(left, { display: "flex", alignItems: "center", gap: "18px" });

    const right = $("div");
    style(right, { display: "flex", alignItems: "center", gap: "18px" });

    const logo = $("div");
    logo.textContent = "snap";
    style(logo, { fontSize: "28px", fontWeight: "700" });

    left.appendChild(logo);

    function makeLink(text) {
      const a = $("a");
      a.href = "#";
      a.textContent = text;
      style(a, { textDecoration: "none", color: "#555", fontSize: "14px" });
      return a;
    }

    function makeDropdown(title, items) {
      const dd = $("div");
      style(dd, { position: "relative" });

      const btn = $("button");
      style(btn, {
        border: "none",
        background: "transparent",
        cursor: "pointer",
        display: "flex",
        alignItems: "center",
        gap: "8px",
        color: "#555",
        fontSize: "14px",
        padding: "8px 10px",
        borderRadius: "10px"
      });

      const text = $("span");
      text.textContent = title;

      const arrow = $("span");
      arrow.innerHTML = svgDown;

      btn.appendChild(text);
      btn.appendChild(arrow);

      const menu = $("div");
      style(menu, {
        display: "none",
        position: "absolute",
        top: "40px",
        left: "0",
        background: "white",
        padding: "12px",
        borderRadius: "12px",
        boxShadow: "0 10px 25px rgba(0,0,0,0.12)",
        minWidth: "170px"
      });

      items.forEach(({icon, label}) => {
        const a = $("a");
        a.href = "#";
        style(a, {
          display: "flex",
          alignItems: "center",
          gap: "10px",
          padding: "8px 10px",
          borderRadius: "10px",
          textDecoration: "none",
          color: "#333",
          fontSize: "14px"
        });

        const ic = $("span");
        ic.innerHTML = icon || "";
        style(ic, { display: "inline-flex" });

        const t = $("span");
        t.textContent = label;

        a.appendChild(ic);
        a.appendChild(t);

        a.addEventListener("mouseenter", () => a.style.background = "#f3f3f3");
        a.addEventListener("mouseleave", () => a.style.background = "transparent");

        menu.appendChild(a);
      });

      dd.appendChild(btn);
      dd.appendChild(menu);

      // toggle
      btn.addEventListener("click", (e) => {
        e.stopPropagation();
        const isOpen = menu.style.display === "block";
        closeAll();
        menu.style.display = isOpen ? "none" : "block";
        arrow.innerHTML = isOpen ? svgDown : svgUp;
      });

      dd._menu = menu;
      dd._arrow = arrow;
      return dd;
    }

    const dropdowns = [];

    function closeAll() {
      dropdowns.forEach(dd => {
        dd._menu.style.display = "none";
        dd._arrow.innerHTML = svgDown;
      });
    }
    document.addEventListener("click", closeAll);

    const features = makeDropdown("Features", [
      { icon: svgTodo, label: "Todo List" },
      { icon: svgCal,  label: "Calendar" },
      { icon: svgRem,  label: "Reminders" },
      { icon: svgPlan, label: "Planning" },
    ]);

    const company = makeDropdown("Company", [
      { icon: "", label: "History" },
      { icon: "", label: "Our Team" },
      { icon: "", label: "Blog" },
    ]);

    dropdowns.push(features, company);

    left.appendChild(features);
    left.appendChild(company);
    left.appendChild(makeLink("Careers"));
    left.appendChild(makeLink("About"));

    right.appendChild(makeLink("Login"));

    const register = $("button");
    register.textContent = "Register";
    style(register, {
      padding: "10px 16px",
      borderRadius: "12px",
      border: "2px solid #777",
      background: "transparent",
      cursor: "pointer"
    });
    right.appendChild(register);

    nav.appendChild(left);
    nav.appendChild(right);
    app.appendChild(nav);
  </script>
</body>
</html>
